<hr />
<h2>title:  Markdown Package User Manual
author: V√≠t Novotn√Ω
date:   \markdownVersion{} \markdownLastModified{}</h2>
<link href="https://afeld.github.io/emoji-css/emoji.css" rel="stylesheet" />
<h1>Introduction</h1>
<p>The <a href="https://ctan.org/pkg/markdown" title="CTAN: Package markdown">Markdown package</a> converts <a href="https://daringfireball.net/projects/markdown/basics" title="Daring Fireball: Markdown Basics">markdown</a> markup to \TeX{} commands. The
functionality is provided both as a Lua module and as plain \TeX{}, \LaTeX{}, and
\Hologo{ConTeXt} macro packages that can be used to directly typeset \TeX{} documents
containing markdown markup. Unlike other convertors, the Markdown package
does not require any external programs, and makes it easy to redefine how each
and every markdown element is rendered.  Creative abuse of the markdown
syntax is encouraged. üòâ</p>
<p>This document is a user manual for the <a href="https://ctan.org/pkg/markdown" title="CTAN: Package markdown">Markdown package</a>. It provides
tutorials and code examples. For an in-depth description of the package
requirements, interfaces, and implementation, please refer to the <a href="http://mirrors.ctan.org/macros/generic/markdown/markdown.pdf" title="A Markdown Interpreter for TeX">technical
documentation</a>.</p>
<h2>Requirements</h2>
<p>The package requires either <a href="https://hub.docker.com/r/witiko/markdown/tags" title="witiko/markdown - Docker Image">our official Docker image</a>, which contains
the latest development version of the Markdown package, or a \TeX{}
distribution: <a href="https://www.tug.org/texlive/" title="TeX Live - TeX Users Group">\TeX{} Live</a> ‚â• 2020 is known to work with the current
version of the Markdown package and so are recent versions of <a href="https://miktex.org/" title="Home - MiKTeXorg">Mik\TeX{}</a>.
If you are using an older, incomplete, or atypical \TeX{} distribution, please
consult the <a href="http://mirrors.ctan.org/macros/generic/markdown/markdown.pdf" title="A Markdown Interpreter for TeX">technical documentation</a> for a detailed list of
requirements.</p>
<h2>Installation</h2>
<p>If Markdown is not included in your \TeX{} distribution, you will need to
install it.</p>
<p>First, download the package from the repository using Git:</p>
<pre><code class="language-sh">git clone https://github.com/witiko/markdown
</code></pre>
<p>Next, enter the directory named <code>markdown</code> and run the <code>make base</code> command using
GNU Make:</p>
<pre><code class="language-sh">cd markdown
make base
</code></pre>
<p>This should produce the following files:</p>
<ul>
<li><code>markdown.lua</code>, the Lua module,</li>
<li><code>libraries/markdown-tinyyaml.lua</code>, an external library for reading \acro{yaml},</li>
<li><code>markdown-cli.lua</code>, the Lua command-line interface,</li>
<li><code>markdown.tex</code>, the plain \TeX{} macro package,</li>
<li><code>markdown.sty</code>, the \LaTeX{} package,</li>
<li><code>markdownthemewitiko_dot.sty</code>, the <code>witiko/dot</code> \LaTeX{} theme,</li>
<li><code>markdownthemewitiko_graphicx_http.sty</code>, the <code>witiko/graphicx/http</code> \LaTeX{} theme,</li>
<li><code>markdownthemewitiko_tilde.sty</code>, the <code>witiko/tilde</code> \LaTeX{} theme, and</li>
<li><code>t-markdown.tex</code>, the \Hologo{ConTeXt} module.</li>
</ul>
<h3>Local Installation</h3>
<p>To perform a local installation, place the above files into your \TeX{}
directory structure. This is generally where the individual files should be
placed:</p>
<ul>
<li><code>‚ü®TEXMF‚ü©/tex/luatex/markdown/markdown.lua</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/luatex/markdown/markdown-tinyyaml.lua</code></li>
<li><code>‚ü®TEXMF‚ü©/scripts/markdown/markdown-cli.lua</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/generic/markdown/markdown.tex</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/latex/markdown/markdown.sty</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/latex/markdown/markdownthemewitiko_dot.sty</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/latex/markdown/markdownthemewitiko_graphicx_http.sty</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/latex/markdown/markdownthemewitiko_tilde.sty</code></li>
<li><code>‚ü®TEXMF‚ü©/tex/context/third/markdown/t-markdown.tex</code></li>
</ul>
<p>where <code>‚ü®TEXMF‚ü©</code> corresponds to a root of your \TeX{} distribution, such as
<code>/usr/share/texmf</code> and <code>~/texmf</code> on UN*X systems or
<code>C:\Users\</code>\meta{Your username}<code>\texmf</code> on Windows systems. When in doubt,
consult the manual of your \TeX{} distribution.</p>
<h3>Portable Installation</h3>
<p>Alternatively, you can also store the above files in the same folder as your
\TeX{} document and distribute them together. This way your document can be
portably typeset on legacy \TeX{} distributions.</p>
<p>Since Markdown version 2.10.0, the file <code>markdown.tex</code> must be placed in
a directory named <code>markdown</code> due to <a href="https://github.com/witiko/markdown/issues/74" title="Does not compile if user names own document markdown.tex">issue #74</a>.</p>
<h2>First Document</h2>
<p>In this section, we will take the necessary steps to typeset our first markdown
document in \TeX{}. This will serve as our first hands-on experience with the
package and also as a reassurance that the package has been correctly installed.</p>
<p>If you are using <a href="https://hub.docker.com/r/witiko/markdown/tags" title="witiko/markdown - Docker Image">our official Docker image</a>, you need to prefix all
commands in this section with <code>docker run --rm -v &quot;$PWD&quot;/workdir:/workdir -w /workdir witiko/markdown</code>. For example, instead of <code>luatex document.tex</code>, you
would execute the following command:</p>
<pre><code class="language-sh">docker run --rm -v &quot;$PWD&quot;/workdir:/workdir -w /workdir witiko/markdown \
  luatex document.tex
</code></pre>
<h3>Using Lua</h3>
<p>Using a text editor, create a text document named <code>document.tex</code> with the
following content:</p>
<pre><code class="language-tex">\input markdown
\input hello
\bye
</code></pre>
<h4>Using the Lua Module</h4>
<p>Using a text editor, create a text document named <code>hello.lua</code> with the
following content:</p>
<pre><code class="language-lua">#!/usr/bin/env texlua
local ran_ok, kpse = pcall(require, &quot;kpse&quot;)
if ran_ok then kpse.set_program_name(&quot;luatex&quot;) end
local markdown = require(&quot;markdown&quot;)
local convert = markdown.new()
print(convert(&quot;Hello *world*!&quot;))
</code></pre>
<p>Next, invoke LuaTeX from the terminal:</p>
<pre><code class="language-sh">texlua hello.lua &gt; hello.tex
luatex document.tex
</code></pre>
<p>A PDF document named <code>document.pdf</code> should be produced and contain the text
‚ÄúHello <em>world</em>!‚Äù Invoking pdfTeX should have the same effect:</p>
<pre><code class="language-sh">texlua hello.lua &gt; hello.tex
pdftex document.tex
</code></pre>
<h4>Using the Lua Command-Line Interface</h4>
<p>Using a text editor, create a text document named <code>hello.md</code> with the
following content:</p>
<pre><code class="language-md">Hello *world*!
</code></pre>
<p>Next, invoke LuaTeX from the terminal:</p>
<pre><code class="language-sh">texlua ‚ü®CLI pathname‚ü© -- hello.md hello.tex
luatex document.tex
</code></pre>
<p>where \meta{CLI pathname} corresponds to the location of the Lua CLI script file,
such as <code>~/texmf/scripts/markdown/markdown-cli.lua</code> on UN*X systems or
<code>C:\Users\</code>\meta{Your username}<code>\texmf\scripts\markdown\markdown-cli.lua</code> on Windows
systems. Use the command <code>kpsewhich -a markdown-cli.lua</code> to locate the Lua CLI
script file using <a href="https://tug.org/kpathsea/" title="Kpathsea - TeX Users Group">Kpathsea</a>.</p>
<p>A PDF document named <code>document.pdf</code> should be produced and contain the text ‚ÄúHello
<em>world</em>!‚Äù Invoking pdfTeX should have the same effect:</p>
<pre><code class="language-sh">texlua ‚ü®CLI pathname‚ü© -- hello.md hello.tex
pdftex document.tex
</code></pre>
<h3>Using Plain \TeX{}</h3>
<p>Using a text editor, create a text document named <code>document.tex</code> with the
following content:</p>
<pre><code class="language-tex">\input markdown
\markdownBegin
Hello *world*!
\markdownEnd
\bye
</code></pre>
<p>Next, invoke LuaTeX from the terminal:</p>
<pre><code class="language-sh">luatex document.tex
</code></pre>
<p>A PDF document named <code>document.pdf</code> should be produced and contain the text
‚ÄúHello <em>world</em>!‚Äù Invoking pdfTeX should have the same effect:</p>
<pre><code class="language-sh">pdftex --shell-escape document.tex
</code></pre>
<h3>Using \LaTeX{}</h3>
<p>Using a text editor, create a text document named <code>document.tex</code> with the
following content:</p>
<pre><code class="language-tex">\documentclass{article}
\usepackage{markdown}
\begin{document}
\begin{markdown}
Hello *world*!
\end{markdown}
\end{document}
</code></pre>
<p>Next, invoke LuaTeX from the terminal:</p>
<pre><code class="language-sh">lualatex document.tex
</code></pre>
<p>A PDF document named <code>document.pdf</code> should be produced and contain the text ‚ÄúHello
<em>world</em>!‚Äù Invoking pdfTeX should have the same effect:</p>
<pre><code class="language-sh">pdflatex --shell-escape document.tex
</code></pre>
<hr />
<p>As the next step, try typesetting the example documents distributed along with
the Markdown package:</p>
<pre><code class="language-sh">git clone https://github.com/witiko/markdown
cd markdown/examples
lualatex latex.tex
</code></pre>
<p>A PDF document named <code>latex.pdf</code> should be produced. Open the text documents
<code>latex.tex</code> and <code>example.md</code> in a text editor to see how the example documents
are structured. Try changing the documents and typesetting them as follows:</p>
<pre><code class="language-sh">lualatex latex.tex
</code></pre>
<p>to see the effect of your changes.</p>
<h3>Using \Hologo{ConTeXt}</h3>
<p>Using a text editor, create a text document named <code>document.tex</code> with the
following content:</p>
<pre><code class="language-tex">\usemodule[t][markdown]
\starttext
\startmarkdown
Hello *world*!
\stopmarkdown
\stoptext
</code></pre>
<p>Next, invoke LuaTeX from the terminal:</p>
<pre><code class="language-sh">context document.tex
</code></pre>
<p>A PDF document named <code>document.pdf</code> should be produced and contain the text ‚ÄúHello
<em>world</em>!‚Äù Invoking pdfTeX should have the same effect:</p>
<pre><code class="language-sh">texexec --passon=--shell-escape document.tex
</code></pre>
<hr />
<p>As the next step, try typesetting the example documents distributed along with
the Markdown package:</p>
<pre><code class="language-sh">git clone https://github.com/witiko/markdown
cd markdown/examples
context context.tex
</code></pre>
<p>A PDF document named <code>context.pdf</code> should be produced. Open the text documents
<code>context.tex</code> and <code>example.md</code> in a text editor to see how the example documents
are structured. Try changing the documents and typesetting them as follows:</p>
<pre><code class="language-sh">context context.tex
</code></pre>
<p>to see the effect of your changes.</p>
<h1>Examples</h1>
<p>In this section, I will describe the individual parts of the Markdown package.
Each part will be shown by example, leaving the implementation details to the
<a href="http://mirrors.ctan.org/macros/generic/markdown/markdown.pdf" title="A Markdown Interpreter for TeX">technical documentation</a>.</p>
<p>/markdown-interfaces.md
/markdown-options.md
/markdown-tokens.md</p>
